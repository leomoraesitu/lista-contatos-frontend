<div class="d-block h3 p-3 text-bg-primary text-center">
    LISTA DE CONTATOS
</div>

<form [formGroup]="formGroupContato">
    <div class="mb-3">
      <label for="name" class="form-label">Nome:</label>
      <input type="name" class="form-control" id="name" formControlName="name">
      <small *ngIf="submited && name.hasError('required')" class="text-danger">
        *O nome é requerido!
      </small>
      <small *ngIf="submited && name.hasError('minlength')" class="text-danger">
        *O nome tem que ter no mínimo 3 caracteres!
      </small>      
    </div>
    <div class="row">
    <div class="mb-3 col">
      <label for="email" class="form-label">Email:</label>
      <input type="email" class="form-control" id="email" formControlName="email">
      <small *ngIf="submited && email.hasError('required')" class="text-danger">
        *O email é requerido!
      </small>
      <small *ngIf="submited && email.hasError('minlength')" class="text-danger">
        *O email tem que ter no mínimo 3 caracteres!
      </small>
    </div>
    <div class="mb-3 col">
      <label for="telefone" class="form-label">Telefone:</label>
      <input type="tel" class="form-control" id="telefone" formControlName="telefone">
      
      <small *ngIf="submited && telefone.hasError('required')" class="text-danger">
        *O telefone é requerido!
      </small>
      <small *ngIf="submited && telefone.hasError('minlength')" class="text-danger">
        *O telefone tem que ter 11 números!
      </small>
      <small *ngIf="submited && telefone.hasError('maxlength')" class="text-danger">
        *O telefone não pode ter mais que 11 números!
      </small>      
    </div>
  </div>
    <div class="mb-3">
      <label for="endereco" class="form-label">Endereço:</label>
      <input type="address" class="form-control" id="endereco" formControlName="endereco">
      <small *ngIf="submited && endereco.hasError('required')" class="text-danger">
        *O endereco é requerido!
      </small>
      <small *ngIf="submited && endereco.hasError('minlength')" class="text-danger">
        *O endereco tem que ter no mínimo 3 caracteres!
      </small>
    </div>
    <div class="row">
    <div class="mb-3 col">
      <label for="cidade" class="form-label">Cidade:</label>
      <input type="city" class="form-control" id="cidade" formControlName="cidade">
      <small *ngIf="submited && cidade.hasError('required')" class="text-danger">
        *A cidade é requerida!
      </small>
      <small *ngIf="submited && cidade.hasError('minlength')" class="text-danger">
        *A cidade tem que ter no mínimo 3 caracteres!
      </small>
    </div>
    <div class="mb-3 col">
      <label for="cep" class="form-label">CEP:</label>
      <input type="postalcode" class="form-control" id="cep" formControlName="cep">
      <small *ngIf="submited && cep.hasError('required')" class="text-danger">
        *O CEP é requerido!
      </small>
      <small *ngIf="submited && cep.hasError('minlength')" class="text-danger">
        *O CEP tem que ter 8 números!
      </small>
      <small *ngIf="submited && cep.hasError('maxlength')" class="text-danger">
        *O CEP não pode ter mais que 8 números!
      </small>
    </div>
    <div class="mb-3 col">
      <label for="estado" class="form-label">Estado:</label>
      <input type="state" class="form-control" id="estado" formControlName="estado">
      <small *ngIf="submited && estado.hasError('required')" class="text-danger">
        *O Estado é requerido!
      </small>
      <small *ngIf="submited && estado.hasError('minlength')" class="text-danger">
        *O Estado tem que ter 2 letras!
      </small>
      <small *ngIf="submited && estado.hasError('maxlength')" class="text-danger">
        *O Estado não pode ter mais que 2 letras!
      </small>
    </div>
  </div>
    
    <button type="save" class="btn btn-primary" (click)="save()">Salvar</button>
    <button class="btn btn-primary m-2"(click)="cancel()">Cancelar</button>
  </form> 

  <br>

  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Nome</th>
        <th scope="col">email</th>
        <th scope="col">Telefone</th>
        <th scope="col">Endereço</th>
        <th scope="col">Cidade</th>
        <th scope="col" class="text-center">CEP</th>
        <th scope="col" class="text-center">Estado</th>
        <th scope="col" class="text-center">Opções</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor=" let c of contatos">
        <th scope="row">{{c.id}}</th>
        <td>{{c.name}}</td>
        <td>{{c.email}}</td>
        <td>{{c.telefone}}</td>
        <td>{{c.endereco}}</td>
        <td class="text-center">{{c.cidade}}</td>
        <td class="text-center">{{c.cep}}</td>
        <td class="text-center">{{c.estado | uppercase }}</td>
        
        <th class="row">
          <button class="btn btn-success col m-1" (click)="edit(c)">Editar</button>
          <button class="btn btn-danger col m-1" (click)="delete(c)">Remover</button>
        </th>
      </tr>      
    </tbody>
  </table>